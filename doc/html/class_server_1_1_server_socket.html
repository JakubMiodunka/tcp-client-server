<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tcp-client-server: Server.ServerSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tcp-client-server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="namespace_server.html">Server</a></li><li class="navelem"><a href="class_server_1_1_server_socket.html">ServerSocket</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_server_1_1_server_socket-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Server.ServerSocket Class Reference<span class="mlabels"><span class="mlabel sealed">sealed</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Wrapper for main server socket, which accepts incoming connections. It accepts connections, manages them and provide mechanisms to receive and send data from/to all connected clients.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Server.ServerSocket:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_server_1_1_server_socket.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abe01a293483ca4fa1f30852782a4638f" id="r_abe01a293483ca4fa1f30852782a4638f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe01a293483ca4fa1f30852782a4638f">ServerSocket</a> (IPEndPoint listeningEndPoint, int receivingBufferSize, <a class="el" href="interface_common_1_1_protocols_1_1_i_protocol.html">IProtocol</a> protocol, <a class="el" href="interface_common_1_1_encryption_1_1_i_cipher.html">ICipher</a> cipher)</td></tr>
<tr class="memdesc:abe01a293483ca4fa1f30852782a4638f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes server socket wrapper.  <br /></td></tr>
<tr class="memitem:a3e9539de6071287c46cdc70d3fe4024a" id="r_a3e9539de6071287c46cdc70d3fe4024a"><td class="memItemLeft" align="right" valign="top"><a id="a3e9539de6071287c46cdc70d3fe4024a" name="a3e9539de6071287c46cdc70d3fe4024a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>StartAcceptingConnections</b> ()</td></tr>
<tr class="memdesc:a3e9539de6071287c46cdc70d3fe4024a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers continues process of listening and accepting new connections on listening socket. <br /></td></tr>
<tr class="memitem:ad362fbb215607e0d8fa705cae26201e8" id="r_ad362fbb215607e0d8fa705cae26201e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad362fbb215607e0d8fa705cae26201e8">SentData</a> (int connectionIdentifier, IEnumerable&lt; byte &gt; data)</td></tr>
<tr class="memdesc:ad362fbb215607e0d8fa705cae26201e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends provided data to specified connection.  <br /></td></tr>
<tr class="memitem:a237b0a33ba0605bf9442a6e48f26e03b" id="r_a237b0a33ba0605bf9442a6e48f26e03b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_server_1_1_socket_message.html">SocketMessage</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a237b0a33ba0605bf9442a6e48f26e03b">GetReceivedData</a> ()</td></tr>
<tr class="memdesc:a237b0a33ba0605bf9442a6e48f26e03b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns first element of receiving queue.  <br /></td></tr>
<tr class="memitem:a736c2181c15d6bbd40f231e6292909b1" id="r_a736c2181c15d6bbd40f231e6292909b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a736c2181c15d6bbd40f231e6292909b1">CloseConnection</a> (int connectionIdentifier)</td></tr>
<tr class="memdesc:a736c2181c15d6bbd40f231e6292909b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes connection with specified identifier.  <br /></td></tr>
<tr class="memitem:a1495c312fcaa7edc61e97939e39fb6d2" id="r_a1495c312fcaa7edc61e97939e39fb6d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1495c312fcaa7edc61e97939e39fb6d2">Dispose</a> ()</td></tr>
<tr class="memdesc:a1495c312fcaa7edc61e97939e39fb6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suppresses accepting new connections, disposes all connection sockets along with listening socket.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-properties" class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a49421457f339d5ce2ac50d577f0ffb29" id="r_a49421457f339d5ce2ac50d577f0ffb29"><td class="memItemLeft" align="right" valign="top"><a id="a49421457f339d5ce2ac50d577f0ffb29" name="a49421457f339d5ce2ac50d577f0ffb29"></a>
int[]&#160;</td><td class="memItemRight" valign="bottom"><b>ActiveConnections</b><code> [get]</code></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper for main server socket, which accepts incoming connections. It accepts connections, manages them and provide mechanisms to receive and send data from/to all connected clients. </p>
<p>To get it to operational state properly, first instantiate the class member and <a class="el" href="#a3e9539de6071287c46cdc70d3fe4024a" title="Triggers continues process of listening and accepting new connections on listening socket.">StartAcceptingConnections()</a> method to start accepting new clients. After establishing connection, methods SentData and GetReceivedData can be used to send and receive data respectively. Monitor value of ActiveConnections to be aware about pool of currently connected clients. Do not forget to dispose created instance, when it will be no longer needed. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abe01a293483ca4fa1f30852782a4638f" name="abe01a293483ca4fa1f30852782a4638f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe01a293483ca4fa1f30852782a4638f">&#9670;&#160;</a></span>ServerSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Server.ServerSocket.ServerSocket </td>
          <td>(</td>
          <td class="paramtype">IPEndPoint</td>          <td class="paramname"><span class="paramname"><em>listeningEndPoint</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>receivingBufferSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_common_1_1_protocols_1_1_i_protocol.html">IProtocol</a></td>          <td class="paramname"><span class="paramname"><em>protocol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_common_1_1_encryption_1_1_i_cipher.html">ICipher</a></td>          <td class="paramname"><span class="paramname"><em>cipher</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes server socket wrapper. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listeningEndPoint</td><td>End point, to which listening socket shall bind to. </td></tr>
    <tr><td class="paramname">receivingBufferSize</td><td>Size of a buffer, used by every connection handle for buffering data incoming from particular client. Expressed in bytes. </td></tr>
    <tr><td class="paramname">protocol</td><td>Session layer protocol, which shall be used during communication with each client. </td></tr>
    <tr><td class="paramname">cipher</td><td>Cipher, which shall be used during communication with each client to encrypt and decrypt data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentNullException</td><td>Thrown, when at least one reference-type argument is a null reference. </td></tr>
    <tr><td class="paramname">ArgumentOutOfRangeException</td><td>Thrown, when value of at least one argument will be considered as invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a736c2181c15d6bbd40f231e6292909b1" name="a736c2181c15d6bbd40f231e6292909b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736c2181c15d6bbd40f231e6292909b1">&#9670;&#160;</a></span>CloseConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Server.ServerSocket.CloseConnection </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>connectionIdentifier</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes connection with specified identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connectionIdentifier</td><td>Identifier connection, which shall be closed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True, if connection related to specified end point was closed, false otherwise. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentNullException</td><td>Thrown, when at least one reference-type argument is a null reference. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1495c312fcaa7edc61e97939e39fb6d2" name="a1495c312fcaa7edc61e97939e39fb6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1495c312fcaa7edc61e97939e39fb6d2">&#9670;&#160;</a></span>Dispose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server.ServerSocket.Dispose </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suppresses accepting new connections, disposes all connection sockets along with listening socket. </p>
<p>Calling Socket.Shutdown method is not necessary here (and will cause throwing an exception) as listening socket on server site is not connected (Socket.Connected property value is set to 'false') - it only listens for new connections and accepts them. For each connection new separate (and connected) socket is created to handle it individually. </p>

</div>
</div>
<a id="a237b0a33ba0605bf9442a6e48f26e03b" name="a237b0a33ba0605bf9442a6e48f26e03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237b0a33ba0605bf9442a6e48f26e03b">&#9670;&#160;</a></span>GetReceivedData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_server_1_1_socket_message.html">SocketMessage</a>? Server.ServerSocket.GetReceivedData </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns first element of receiving queue. </p>
<dl class="section return"><dt>Returns</dt><dd>First element of receiving queue, if it is not empty, null reference otherwise. </dd></dl>

</div>
</div>
<a id="ad362fbb215607e0d8fa705cae26201e8" name="ad362fbb215607e0d8fa705cae26201e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad362fbb215607e0d8fa705cae26201e8">&#9670;&#160;</a></span>SentData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Server.ServerSocket.SentData </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>connectionIdentifier</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; byte &gt;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends provided data to specified connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connectionIdentifier</td><td>Identifier connection, to which provided data shall be sent. </td></tr>
    <tr><td class="paramname">data</td><td>Data, which shall be sent to specified client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True, if data was sent to client related with specified end point, false otherwise. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentNullException</td><td>Thrown, when at least one reference-type argument is a null reference. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>//wsl.localhost/Debian/home/jmiodunka/repositories/git/tcp-client-server/src/Server/<b>ServerSocket.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
